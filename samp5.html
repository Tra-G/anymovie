<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="index.css">
  <style>
    body{
      background-color: rgb(18, 18, 18);
      color: #f0f0f0;
    }

    .movieContainer{
      width: 90%;
      margin: auto;
    }

    .movies{
      display: flex;
      flex-wrap: wrap;
    }

    .movieBox{
      width: 200px;
      margin: 10px 5px;
    }

    .moviePoster{
      width: 100%;
      height: 40vh;
      object-fit: cover;
    }
  </style>
</head>
<body>
  

  <div>
    <div class="sidemenu">
      <div class="sidebar">
          <header>
              <a  style="display: flex; align-items: center;" class="movieheader" href="samp5.html">
                  <i style="color: hsla(349, 69%, 51%, 1);" class="fa-solid fa-video"></i>
                  <p style="display: flex; align-items: center;">any<span style="color: hsla(349, 69%, 51%, 1);">movie</span></p>                                          
              </a>
          </header>

          <div class="line"></div>

          <div class="genres">
              <div class="head">
                  Categories
              </div>
              <ul>
                  <a class="sidelink" href="#"><li>Action</li></a>
                  <a class="sidelink" href=""><li>Adventure</li></a>
                  <a class="sidelink" href=""><li>Animation</li></a>
                  <a class="sidelink" href=""><li>Thriller</li></a>
                  <a class="sidelink" href=""><li>Comedy</li></a>
                  <a class="sidelink" href=""><li>Horror</li></a>
                  <a class="sidelink" href=""><li>Romance</li></a>
                  <a class="sidelink" href=""><li>History</li></a>
                  <a class="sidelink" href=""><li>Tv Movie</li></a>
                  <a class="sidelink" href=""><li>War</li></a>
                  <a class="sidelink" href=""><li>Fantasy</li></a>
                  <a class="sidelink" href=""><li>Music</li></a>
                  <a class="sidelink" href=""><li>Drama</li></a>
                  <a class="sidelink" href=""><li>Science Fiction</li></a>
              </ul>
          </div>

          <div class="line"></div>

                <div class="trends">
                    <div class="head">
                        Categories
                    </div>
                    <ul>
                        <a class="sidelink" href=""><li>Trending</li></a>
                        <a class="sidelink" href=""><li>Top Rated</li></a>
                        <a class="sidelink" href=""><li>Upcoming</li></a>
                    </ul>
                </div>
            </div>
        </div>


    <div class="main">
      <div class="wrapper">
        <div class="movieContainer">
          <div class="movies">
            <!--<div class="movieBox">
              <img class="moviePoster" src="" alt="">
              <div class="title"></div>
              <div class="rating"></div>
              <div class="year"></div>
            </div>-->
          </div>
        </div>
      </div>

      <footer>

      </footer>
    </div>
  </div>




  <script>
    const apiKey = '068f0f7197e9637e1ff61c5fdffa4c95'; // Replace with your TMDb API key
    const movieContainer = document.querySelector('.movieContainer');
    const movies = document.querySelector('.movies');

    // Function to fetch popular movies from TMDb API
    const fetchPopularMovies = async (page) => {
      try {
        const response = await fetch(`https://api.themoviedb.org/3/movie/top_rated?api_key=${apiKey}&language=en-US&page=${page}`);
        const data = await response.json();
        return data.results;
      } catch (error) {
        console.log(error);
      }
    };

    // Function to create movie box and add to DOM
    const createMovieBox = (movie) => {
      const movieBox = document.createElement('div');
      movieBox.classList.add('movieBox');

      const moviePoster = document.createElement('img');
      moviePoster.classList.add('moviePoster');
      moviePoster.src = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;
      moviePoster.alt = movie.title;
      movieBox.appendChild(moviePoster);

      const title = document.createElement('div');
      title.classList.add('title');
      title.textContent = movie.title;
      movieBox.appendChild(title);

      const rating = document.createElement('div');
      rating.classList.add('rating');
      rating.textContent = `Rating: ${movie.vote_average}`;

      movieBox.appendChild(rating);

      const year = document.createElement('div');
      year.classList.add('year');
      year.textContent = `Release Year: ${movie.release_date.slice(0, 4)}`;
      movieBox.appendChild(year);

      movies.appendChild(movieBox);
    };

    // Function to display popular movies
    const displayPopularMovies = async () => {
      for (let i = 1; i <= 3; i++) {
        const popularMovies = await fetchPopularMovies(i);
        popularMovies.slice(0, 20).forEach((movie) => createMovieBox(movie));
      }
    };

    displayPopularMovies();
  </script>
</body>
</html>